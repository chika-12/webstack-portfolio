<!DOCTYPE html>
<html lang="en">

    <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Posts</title>
    <link rel="stylesheet" href="/styles/main.css">
    </head>

    <body>
    <div class="navbar">
        <h2>My Blog</h2>
        <div>
        <a href="/new">Create Post</a>
        <a href="/logout">Logout</a>
        </div>
    </div>
    <div class="container">
        <h1>Posts</h1>
        <% posts.forEach(post => { %>
        <div class="post">
            <h3><%= post.title %></h3>
            <p class="post-meta">By <%= post.author %> on <%= new Date(post.date).toLocaleDateString() %></p>
            <p><%= post.content.substring(0, 100) %>...</p>
            <a href="/posts/<%= post.id %>">Read More</a> | 
            <a href="/edit/<%= post.id %>">Edit</a> | 
            <a href="/api/posts/delete/<%= post.id %>">Delete</a>
        </div>
        <% }) %>
    </div>
    <footer>
        &copy; <%= new Date().getFullYear() %> My Blog
    </footer>
    </body>

</html>
